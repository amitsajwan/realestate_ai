<!-- üéØ Complete Enhanced Welcome Dashboard with Next-Gen Support -->
<div id="welcome-section" class="dashboard-section active fade-in-up">
    <div class="container-fluid">
        
        <!-- Welcome Header (Always visible) -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="welcome-header text-center">
                    <h1 class="gradient-text mb-3">Welcome to PropertyAI</h1>
                    <p class="lead text-muted">Your AI-powered real estate success platform</p>
                    <div class="company-info-section mt-3">
                        <span class="badge bg-primary me-2">
                            <i class="fas fa-building me-1"></i>
                            <span class="company-name-placeholder" id="welcomeCompanyName">Loading...</span>
                        </span>
                        <span class="badge bg-secondary me-2">
                            <i class="fas fa-star me-1"></i>
                            <span class="company-tagline-placeholder">Professional Real Estate Services</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>

    <!-- Next-Gen Stats Row -->
        <div class="row mb-4 nextgen-container" id="nextgenStatsRow">
            <!-- Next-Gen Stats (Always visible) -->
            <div class="col-6 col-md-3 mb-3 nextgen-stat">
                <div class="nextgen-stat-card">
                    <div class="nextgen-stat-icon">üè†</div>
                    <div class="nextgen-stat-number" id="nextgenActiveListings">24</div>
                    <div class="nextgen-stat-label">Active Listings</div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-3 nextgen-stat">
                <div class="nextgen-stat-card">
                    <div class="nextgen-stat-icon">ü§ñ</div>
                    <div class="nextgen-stat-number" id="nextgenAiGenerated">156</div>
                    <div class="nextgen-stat-label">AI Generated</div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-3 nextgen-stat">
                <div class="nextgen-stat-card">
                    <div class="nextgen-stat-icon">üì±</div>
                    <div class="nextgen-stat-number" id="nextgenSocialPosts">89</div>
                    <div class="nextgen-stat-label">Social Posts</div>
                </div>
            </div>
            <div class="col-6 col-md-3 mb-3 nextgen-stat">
                <div class="nextgen-stat-card">
                    <div class="nextgen-stat-icon">üë•</div>
                    <div class="nextgen-stat-number" id="nextgenNewLeads">12</div>
                    <div class="nextgen-stat-label">New Leads</div>
                </div>
            </div>
        </div>

    <!-- Next-Gen Quick Actions (Default visible, enhanced) -->
    <div class="nextgen-quick-actions">
        <div class="row mb-4">
            <div class="col-6 col-md-3 mb-3">
                <button class="nextgen-glass-card w-100 border-0 nextgen-action-btn" onclick="showSection('properties')">
                    <div class="nextgen-action-icon"><i class="fas fa-plus"></i></div>
                    <div class="nextgen-action-label">Add Property</div>
                </button>
            </div>
            <div class="col-6 col-md-3 mb-3">
                <button class="nextgen-glass-card w-100 border-0 nextgen-action-btn" onclick="showSection('ai-content')">
                    <div class="nextgen-action-icon"><i class="fas fa-magic"></i></div>
                    <div class="nextgen-action-label">AI Content</div>
                </button>
            </div>
            <div class="col-6 col-md-3 mb-3">
                <button class="nextgen-glass-card w-100 border-0 nextgen-action-btn" onclick="showSection('facebook')">
                    <div class="nextgen-action-icon"><i class="fas fa-share-alt"></i></div>
                    <div class="nextgen-action-label">Post to Social</div>
                </button>
            </div>
            <div class="col-6 col-md-3 mb-3">
                <button class="nextgen-glass-card w-100 border-0 nextgen-action-btn" onclick="showSection('crm')">
                    <div class="nextgen-action-icon"><i class="fas fa-users"></i></div>
                    <div class="nextgen-action-label">Manage Leads</div>
                </button>
            </div>
        </div>
    </div>

    <!-- Next-Gen AI Action Cards (Default visible, enhanced) -->
    <div class="nextgen-ai-actions">
            <h3 style="color: var(--nextgen-text-primary); margin-bottom: 1.5rem; font-weight: 600;">
                <i class="fas fa-brain me-2"></i>AI-Powered Actions
            </h3>
            <div class="row mb-4">
                <div class="col-md-6 col-lg-4 mb-3">
                    <div class="nextgen-glass-card" onclick="generateListingContent()" style="cursor: pointer; min-height: 200px;">
                        <div class="nextgen-action-gradient">
                            <i class="fas fa-pen-fancy"></i>
                        </div>
                        <h4 style="color: var(--nextgen-text-primary); margin-bottom: 0.5rem; font-size: 1.1rem;">Smart Listing Generator</h4>
                        <p style="color: var(--nextgen-text-secondary); font-size: 0.875rem; line-height: 1.6; margin: 0;">Generate compelling property descriptions in multiple languages with AI-powered insights.</p>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-4 mb-3">
                    <div class="nextgen-glass-card" onclick="predictPricing()" style="cursor: pointer; min-height: 200px;">
                        <div class="nextgen-action-gradient">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h4 style="color: var(--nextgen-text-primary); margin-bottom: 0.5rem; font-size: 1.1rem;">AI Price Prediction</h4>
                        <p style="color: var(--nextgen-text-secondary); font-size: 0.875rem; line-height: 1.6; margin: 0;">Get accurate property valuations using machine learning models trained on local market data.</p>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-4 mb-3">
                    <div class="nextgen-glass-card" onclick="leadScoring()" style="cursor: pointer; min-height: 200px;">
                        <div class="nextgen-action-gradient">
                            <i class="fas fa-target"></i>
                        </div>
                        <h4 style="color: var(--nextgen-text-primary); margin-bottom: 0.5rem; font-size: 1.1rem;">Lead Scoring AI</h4>
                        <p style="color: var(--nextgen-text-secondary); font-size: 0.875rem; line-height: 1.6; margin: 0;">Prioritize leads with intelligent scoring based on engagement patterns and buying behavior.</p>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-4 mb-3">
                    <div class="nextgen-glass-card" onclick="marketInsights()" style="cursor: pointer; min-height: 200px;">
                        <div class="nextgen-action-gradient">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h4 style="color: var(--nextgen-text-primary); margin-bottom: 0.5rem; font-size: 1.1rem;">Market Intelligence</h4>
                        <p style="color: var(--nextgen-text-secondary); font-size: 0.875rem; line-height: 1.6; margin: 0;">Real-time market trends and neighborhood insights powered by advanced analytics.</p>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-4 mb-3">
                    <div class="nextgen-glass-card" onclick="socialOptimizer()" style="cursor: pointer; min-height: 200px;">
                        <div class="nextgen-action-gradient">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <h4 style="color: var(--nextgen-text-primary); margin-bottom: 0.5rem; font-size: 1.1rem;">Social Media AI</h4>
                        <p style="color: var(--nextgen-text-secondary); font-size: 0.875rem; line-height: 1.6; margin: 0;">Optimize posting times, content, and audience targeting with AI-driven social media strategies.</p>
                    </div>
                </div>
                
                <div class="col-md-6 col-lg-4 mb-3">
                    <div class="nextgen-glass-card" onclick="virtualTour()" style="cursor: pointer; min-height: 200px;">
                        <div class="nextgen-action-gradient">
                            <i class="fas fa-vr-cardboard"></i>
                        </div>
                        <h4 style="color: var(--nextgen-text-primary); margin-bottom: 0.5rem; font-size: 1.1rem;">Virtual Tour Creator</h4>
                        <p style="color: var(--nextgen-text-secondary); font-size: 0.875rem; line-height: 1.6; margin: 0;">Create immersive 3D virtual tours and AR experiences for your property listings.</p>
                    </div>
                </div>
            </div>
        </div>

    color: var(--gray);
}

.company-info-section .badge {
    font-size: 0.875rem;
    padding: var(--spacing-sm) var(--spacing-md);
}

/* üéØ Quick Actions */
.quick-actions .btn {
    text-align: center;
    border-radius: var(--radius-lg);
    transition: all var(--transition-normal);
}

.quick-actions .btn:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: var(--shadow-xl);
}

.quick-actions .btn i {
    display: block;
    margin-bottom: var(--spacing-md);
}

.quick-actions .btn h6 {
    margin-bottom: var(--spacing-sm);
    font-weight: 600;
}

/* üåü AI Suggestions */
.suggestion-item {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    background: rgba(37, 99, 235, 0.05);
    border-left: 4px solid var(--primary);
}

.suggestion-icon {
    font-size: 1.5rem;
    margin-bottom: var(--spacing-sm);
}

.suggestion-text {
    font-size: 0.875rem;
    color: var(--dark);
    margin-bottom: var(--spacing-sm);
    line-height: 1.4;
}

/* üìä Recent Activity */
.activity-item {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
}

.activity-item:hover {
    background: rgba(37, 99, 235, 0.05);
    transform: translateX(4px);
}

.activity-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.activity-title {
    font-weight: 600;
    color: var(--dark);
    margin-bottom: var(--spacing-xs);
}

.activity-desc {
    color: var(--gray);
    margin-bottom: var(--spacing-xs);
}

.activity-time {
    font-size: 0.75rem;
}

/* üìà Market Insights */
.insight-item {
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    background: rgba(16, 185, 129, 0.05);
    border-left: 4px solid var(--success);
}

.insight-header {
    color: var(--dark);
}

.insight-text {
    color: var(--gray);
    line-height: 1.4;
}

/* üåü Animations */
.fade-in-up {
    animation: fadeInUp 0.8s ease-out;
}

/* üì± Responsive Design */
@media (max-width: 768px) {
    .welcome-header h1 {
        font-size: 2rem;
    }
    
    .welcome-header .lead {
        font-size: 1rem;
    }
    
    .quick-actions .btn {
        padding: var(--spacing-md);
    }
    
    .quick-actions .btn i {
        font-size: 1.5rem;
    }
    
    .nextgen-glass-card {
        padding: 1rem;
    }
    
    .nextgen-ai-actions h3 {
        font-size: 1.25rem;
    }
    
    .nextgen-glass-card h4 {
        font-size: 1rem;
    }
}
</style>

<!-- JavaScript for Mode Switching and AI Actions -->
<script>
// AI Action Functions for Next-Gen Mode
function generateListingContent() {
    if (typeof showNextGenToast === 'function') {
        showNextGenToast('üéØ AI is analyzing your properties and generating compelling content...', 'success');
    } else if (typeof showAlert === 'function') {
        showAlert('Starting AI content generation...', 'success');
    }
    setTimeout(() => showSection('ai-content'), 1000);
}

function predictPricing() {
    if (typeof showNextGenToast === 'function') {
        showNextGenToast('üìä Running AI price prediction models on market data...', 'success');
    } else if (typeof showAlert === 'function') {
        showAlert('Running price prediction analysis...', 'success');
    }
    // Could redirect to a pricing analysis section
    setTimeout(() => {
        if (typeof showNextGenToast === 'function') {
            showNextGenToast('üí∞ Estimated property value: ‚Çπ85,00,000 - ‚Çπ95,00,000', 'success');
        }
    }, 2000);
}

function leadScoring() {
    if (typeof showNextGenToast === 'function') {
        showNextGenToast('üéØ Analyzing leads with intelligent scoring algorithm...', 'success');
    } else if (typeof showAlert === 'function') {
        showAlert('Analyzing leads...', 'success');
    }
    setTimeout(() => showSection('crm'), 1000);
}

function marketInsights() {
    if (typeof showNextGenToast === 'function') {
        showNextGenToast('üß† Gathering real-time market intelligence...', 'success');
    } else if (typeof showAlert === 'function') {
        showAlert('Loading market insights...', 'success');
    }
    // Could show market insights modal or section
    setTimeout(() => {
        if (typeof showNextGenToast === 'function') {
            showNextGenToast('üìà Market trend: Properties in your area are 12% above average price', 'success');
        }
    }, 2000);
}

function socialOptimizer() {
    if (typeof showNextGenToast === 'function') {
        showNextGenToast('üöÄ Optimizing social media strategy with AI...', 'success');
    } else if (typeof showAlert === 'function') {
        showAlert('Optimizing social media...', 'success');
    }
    setTimeout(() => showSection('facebook'), 1000);
}

function virtualTour() {
    if (typeof showNextGenToast === 'function') {
        showNextGenToast('ü•Ω Launching virtual tour creator...', 'success');
    } else if (typeof showAlert === 'function') {
        showAlert('Opening virtual tour creator...', 'success');
    }
    // Could redirect to virtual tour creation tool
    setTimeout(() => {
        if (typeof showNextGenToast === 'function') {
            showNextGenToast('üé¨ Virtual tour feature coming soon! Stay tuned for 3D property experiences.', 'success');
        }
    }, 2000);
}

// Enhanced stats animation for nextgen mode
function animateNextGenStats() {
    if (typeof nextgenMode === 'undefined' || !nextgenMode) return;
    
    const stats = [
        { id: 'nextgenActiveListings', target: 24 },
        { id: 'nextgenAiGenerated', target: 156 },
        { id: 'nextgenSocialPosts', target: 89 },
        { id: 'nextgenNewLeads', target: 12 }
    ];
    
    stats.forEach((stat, index) => {
        const element = document.getElementById(stat.id);
        if (!element) return;
        
        let current = 0;
        const increment = stat.target / 30;
        
        setTimeout(() => {
            const timer = setInterval(() => {
                current += increment;
                element.textContent = Math.floor(current);
                
                if (current >= stat.target) {
                    element.textContent = stat.target;
                    clearInterval(timer);
                }
            }, 50);
        }, index * 100); // Staggered animation
    });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    // Initialize stats animation
    if (typeof animateStats === 'function') {
        animateStats();
    } else {
        // Fallback stats animation
        const stats = [
            { id: 'activeListings', target: 24 },
            { id: 'pendingPosts', target: 8 },
            { id: 'newLeads', target: 12 },
            { id: 'revenue', target: 2500000 }
        ];

        stats.forEach((stat, index) => {
            const element = document.getElementById(stat.id);
            if (!element) return;
            
            let current = 0;
            const increment = stat.target / 30;
            
            setTimeout(() => {
                const timer = setInterval(() => {
                    current += increment;
                    if (stat.id === 'revenue') {
                        element.textContent = '‚Çπ' + Math.floor(current).toLocaleString();
                    } else {
                        element.textContent = Math.floor(current);
                    }
                    
                    if (current >= stat.target) {
                        if (stat.id === 'revenue') {
                            element.textContent = '‚Çπ' + stat.target.toLocaleString();
                        } else {
                            element.textContent = stat.target;
                        }
                        clearInterval(timer);
                    }
                }, 50);
            }, index * 200);
        });
    }
});
</script>